"use strict";(self.webpackChunkcomplex_react_app=self.webpackChunkcomplex_react_app||[]).push([[758],{7758:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var l=a(7294),n=a(6974),s=a(9711),r=a(1387),o=a(9669),c=a.n(o),m=a(7062),i=a(4724),u=a(6168),d=a(2210),p=a(7564),f=a(3983);const h=function(){const e=(0,n.s0)(),t=(0,l.useContext)(p.Z),a=(0,l.useContext)(f.Z),{id:o}=(0,n.UO)(),[h,E]=(0,l.useState)(!0),[g,y]=(0,l.useState)();if((0,l.useEffect)((()=>{const e=c().CancelToken.source();return async function(){try{const t=await c().get(`/post/${o}`,{cancelToken:e.token});console.log(t.data),y(t.data),E(!1)}catch(e){console.log("Ooops I did it again!")}}(),()=>{e.cancel()}}),[o]),!h&&!g)return l.createElement(d.Z,null);if(h)return l.createElement(r.Z,{title:"Posts Loading"},l.createElement(m.Z,null));const w=new Date(g.createdDate),N=`${w.getMonth()+1}/${w.getDate()}/${w.getFullYear()}`;return l.createElement(r.Z,{title:g.title},l.createElement("div",{className:"container container--narrow py-md-5"},l.createElement("div",{className:"d-flex justify-content-between"},l.createElement("h2",null,g.title),!!t.loggedIn&&t.user.username==g.author.username&&l.createElement("span",{className:"pt-2"},l.createElement(s.rU,{to:`/post/${g._id}/edit`,"data-tip":"Edit","data-for":"edit",className:"text-primary mr-2"},l.createElement("i",{className:"fas fa-edit"})),l.createElement(u.Z,{id:"edit",className:"custom-tooltip"})," ",l.createElement(s.rU,{to:"",onClick:async function(){if(window.confirm("Do you really want to delete this post?"))try{"Success"==(await c().delete(`/post/${o}`,{data:{token:t.user.token}})).data&&(a({type:"flashMessage",value:"Post was successfully deleted."}),e(`/profile/${t.user.username}`))}catch(e){console.log("there was a problem")}},className:"delete-post-button text-danger","data-tip":"Delete","data-for":"delete"},l.createElement("i",{className:"fas fa-trash"})),l.createElement(u.Z,{id:"delete",className:"custom-tooltip"}))),l.createElement("p",{className:"text-muted small mb-4"},l.createElement(s.rU,{to:`/profile/${g.author.username}`},l.createElement("img",{className:"avatar-tiny",src:g.author.avatar})),"Posted by ",l.createElement(s.rU,{to:`/profile/${g.author.username}`},g.author.username)," on ",N),l.createElement("div",{className:"body-content"},l.createElement(i.D,{children:g.body,allowElements:["p","br","strong","em","h1","h2","h3","h4","h5","h6","ul","ol","li"]}))))}}}]);